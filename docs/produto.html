<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exclusiva Store - Produto</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .cart-badge { animation: bounce 0.5s ease-in-out; }
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }
  </style>
</head>
<body class="bg-gray-50">

  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
      <h1 class="text-2xl font-bold text-gray-900">Exclusiva</h1>
      <div class="flex items-center space-x-4">
        <button onclick="toggleCart()" class="relative text-gray-700 hover:text-gray-900">
          üõí
          <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center cart-badge hidden">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Produto -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-12">
      <!-- Imagens do Produto -->
      <div id="product-images" class="space-y-4"></div>

      <!-- Detalhes do Produto -->
      <div>
        <h2 id="product-name" class="text-3xl font-bold mb-4"></h2>
        <p id="product-desc" class="text-gray-700 mb-6"></p>
        <p id="product-price" class="text-2xl font-bold mb-6"></p>
        <button onclick="addToCart(selectedProduct.id)" class="bg-yellow-500 text-black py-3 px-6 rounded-lg font-semibold hover:bg-yellow-400 transition">Adicionar ao Carrinho</button>
        <button onclick="goBack()" class="ml-4 bg-gray-900 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition">Voltar</button>
      </div>
    </div>
  </section>

  <!-- Carrinho -->
  <aside id="cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50 flex flex-col">
    <div class="p-6 border-b flex justify-between items-center">
      <h3 class="text-xl font-semibold">Carrinho de Compras</h3>
      <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">‚úñ</button>
    </div>
    <div id="cart-items" class="flex-1 overflow-y-auto p-6">
      <p class="text-gray-500 text-center">Seu carrinho est√° vazio</p>
    </div>
    <div class="border-t p-6">
      <div class="flex justify-between items-center mb-4">
        <span class="text-lg font-semibold">Total:</span>
        <span id="cart-total" class="text-lg font-bold text-black">R$ 0,00</span>
      </div>
      <button onclick="checkout()" class="w-full bg-black text-white py-3 rounded-lg font-semibold hover:bg-gray-800">Finalizar Compra</button>
    </div>
  </aside>
  <div id="cart-overlay" class="fixed inset-0 bg-black/50 hidden z-40" onclick="toggleCart()"></div>

  <!-- Scripts -->
  <script>
    const products = [
      {id:1,name:"Vestido Floral Elegante",price:189.90,image:"imagens/produto1.jpg",desc:"Descri√ß√£o detalhada do vestido floral elegante."},
      {id:2,name:"Camisa Casual Feminina",price:129.90,image:"imagens/produto2.jpg",desc:"Descri√ß√£o da camisa casual feminina."},
      {id:3,name:"Bolsa de Couro Premium",price:299.90,image:"imagens/produto3.jpg",desc:"Bolsa de couro premium, espa√ßosa e estilosa."},
      {id:4,name:"Jeans Skinny Feminino",price:159.90,image:"imagens/produto4.jpg",desc:"Jeans skinny feminino confort√°vel."},
      {id:5,name:"T√™nis Urbano",price:249.90,image:"imagens/produto5.jpg",desc:"T√™nis urbano para todas as ocasi√µes."},
      {id:6,name:"Jaqueta Jeans",price:199.90,image:"imagens/produto6.jpg",desc:"Jaqueta jeans moderna e dur√°vel."},
      {id:7,name:"Rel√≥gio Minimalista",price:349.90,image:"imagens/produto7.jpg",desc:"Rel√≥gio minimalista elegante."},
      {id:8,name:"Blusa de Tric√¥",price:89.90,image:"imagens/produto8.jpg",desc:"Blusa de tric√¥ confort√°vel para o inverno."},
      {id:9,name:"Cal√ßa Alfaiataria",price:179.90,image:"imagens/produto9.jpg",desc:"Cal√ßa de alfaiataria feminina."},
      {id:10,name:"Chap√©u Fedora",price:99.90,image:"imagens/produto10.jpg",desc:"Chap√©u fedora estiloso."}
    ];

    let cart = JSON.parse(localStorage.getItem('exclusiva_cart')||'[]');

    const formatBRL = v => new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(v);

    let selectedProduct = null;
    const productId = parseInt(localStorage.getItem('selectedProduct'));
    if(productId) selectedProduct = products.find(p => p.id === productId);

    function loadProduct(){
      if(!selectedProduct) { alert('Produto n√£o encontrado'); window.location.href='index.html'; return; }
      document.getElementById('product-name').textContent = selectedProduct.name;
      document.getElementById('product-desc').textContent = selectedProduct.desc;
      document.getElementById('product-price').textContent = formatBRL(selectedProduct.price);
      const imagesDiv = document.getElementById('product-images');
      imagesDiv.innerHTML = `<img src="${selectedProduct.image}" class="w-full rounded-lg shadow-lg"/>`;
    }

    function addToCart(id){
      const p = products.find(x=>x.id===id);
      const item = cart.find(x=>x.id===id);
      if(item) item.quantity+=1;
      else cart.push({...p,quantity:1});
      localStorage.setItem('exclusiva_cart',JSON.stringify(cart));
      updateCartUI();
      alert('Produto adicionado ao carrinho!');
    }

    function updateCartUI(){
      const cartCount = document.getElementById('cart-count');
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      const totalItems = cart.reduce((sum,i)=>sum+i.quantity,0);
      const totalPrice = cart.reduce((sum,i)=>sum+i.price*i.quantity,0);
      cartCount.textContent = totalItems>0?totalItems:'0';
      cartCount.classList.toggle('hidden', totalItems===0);

      if(cart.length===0){ cartItems.innerHTML='<p class="text-gray-500 text-center">Seu carrinho est√° vazio</p>'; }
      else{
        cartItems.innerHTML = cart.map(i=>`
          <div class="flex items-center justify-between border-b pb-4 mb-4">
            <div class="flex items-center space-x-3">
              <img src="${i.image}" class="w-12 h-12 object-cover rounded">
              <div>
                <h4 class="font-semibold text-sm">${i.name}</h4>
                <p class="text-black font-bold">${formatBRL(i.price)}</p>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button onclick="updateQuantity(${i.id},-1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
              <span class="w-8 text-center">${i.quantity}</span>
              <button onclick="updateQuantity(${i.id},1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
              <button onclick="removeFromCart(${i.id})" class="ml-2 text-red-500 hover:text-red-700">üóëÔ∏è</button>
            </div>
          </div>
        `).join('');
      }
      cartTotal.textContent = formatBRL(totalPrice);
    }

    function removeFromCart(id){ cart = cart.filter(x=>x.id!==id); localStorage.setItem('exclusiva_cart',JSON.stringify(cart)); updateCartUI(); }
    function updateQuantity(id,change){ const item = cart.find(x=>x.id===id); if(!item) return; item.quantity+=change; if(item.quantity<=0) removeFromCart(id); else localStorage.setItem('exclusiva_cart',JSON.stringify(cart)); updateCartUI(); }
    function toggleCart(){ document.getElementById('cart-sidebar').classList.toggle('translate-x-full'); document.getElementById('cart-overlay').classList.toggle('hidden'); }
    function checkout(){ alert('Checkout de demonstra√ß√£o. Integra√ß√£o futura com gateway de pagamento.'); }
    function goBack(){ window.location.href='index.html'; }

    document.addEventListener('DOMContentLoaded',()=>{ loadProduct(); updateCartUI(); });
  </script>

</body>
</html>
